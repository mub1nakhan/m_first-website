<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kitoblar Ro'yxati</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>

*{
box-sizing:border-box;
margin:0;
padding:0;
font-family:'Poppins',sans-serif;
}

body{
background:linear-gradient(120deg,#1e3c72,#2a5298);
min-height:100vh;
display:flex;
justify-content:center;
align-items:center;
padding:20px;
gap:20px;
flex-wrap:wrap;
}

.container{
background:#fff;
width:100%;
max-width:900px;
border-radius:12px;
padding:30px;
box-shadow:0 10px 30px rgba(0,0,0,0.2);
}

h1{
text-align:center;
margin-bottom:15px;
color:#2a5298;
}

/* BUTTONS */

.add-btn{
display:block;
margin:0 auto 15px;
background:#2a5298;
color:white;
border:none;
padding:10px 18px;
border-radius:8px;
cursor:pointer;
}

.add-btn:hover{
background:#1e3c72;
}

.delete-btn{
margin-top:12px;
background:#e74c3c;
color:white;
border:none;
padding:7px 14px;
border-radius:6px;
cursor:pointer;
font-size:14px;
}

.delete-btn:hover{
background:#c0392b;
}

/* GRID */

.books-grid{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
gap:20px;
}

.book-card{
background:#f7f9ff;
padding:20px;
border-radius:10px;
text-align:center;
transition:.3s;
box-shadow:0 4px 10px rgba(0,0,0,0.1);
}

.book-card:hover{
transform:translateY(-5px);
box-shadow:0 8px 20px rgba(0,0,0,0.2);
}

.book-icon{
font-size:40px;
margin-bottom:10px;
}

.book-title{
font-size:16px;
font-weight:500;
}

/* MODAL */

.modal,.delete-modal{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,0.6);
display:none;
justify-content:center;
align-items:center;
z-index:999;
}

.modal-content,.delete-content{
background:#fff;
width:90%;
max-width:400px;
padding:25px;
border-radius:10px;
position:relative;
}

.close{
position:absolute;
right:15px;
top:10px;
font-size:22px;
cursor:pointer;
}

.modal-content h2,.delete-content h2{
text-align:center;
margin-bottom:15px;
color:#2a5298;
}

.modal-content input{
width:100%;
padding:10px;
margin-bottom:12px;
border-radius:6px;
border:1px solid #ccc;
}

.modal-content button{
width:100%;
padding:10px;
background:#2a5298;
color:white;
border:none;
border-radius:6px;
cursor:pointer;
}

.modal-content button:hover{
background:#1e3c72;
}

/* DELETE MODAL */

.delete-actions{
display:flex;
gap:10px;
}

.confirm-delete{
flex:1;
background:#e74c3c;
color:white;
border:none;
padding:10px;
border-radius:6px;
cursor:pointer;
}

.cancel-delete{
flex:1;
background:#95a5a6;
color:white;
border:none;
padding:10px;
border-radius:6px;
cursor:pointer;
}

</style>
</head>

<body>

<div class="container">

<h1>ðŸ“š Kitoblar Ro'yxati</h1>

<button class="add-btn" onclick="openAddModal()">âž• Kitob qoâ€˜shish</button>

{% if books %}
<div class="books-grid">

{% for book in books %}
<div class="book-card">

<div class="book-icon">ðŸ“–</div>
<div class="book-title">{{ book.title }}</div>

<button class="delete-btn" onclick="openDeleteModal({{ book.id }})">ðŸ—‘ Oâ€˜chirish</button>

</div>
{% endfor %}

</div>
{% else %}
<p style="text-align:center;color:#888;">Hozircha kitoblar yoâ€˜q</p>
{% endif %}

</div>

<!-- ADD MODAL -->

<div class="modal" id="addModal">
<div class="modal-content">

<span class="close" onclick="closeAddModal()">&times;</span>

<h2>Yangi kitob qoâ€˜shish</h2>

<form method="POST" action="/add-book/">
{% csrf_token %}
<input type="text" name="title" placeholder="Kitob nomi" required>
<button type="submit">Saqlash</button>
</form>

</div>
</div>

<!-- DELETE MODAL -->

<div class="delete-modal" id="deleteModal">
<div class="delete-content">

<h2>Oâ€˜chirishni tasdiqlang</h2>
<p>Rostdan ham ushbu kitobni oâ€˜chirmoqchimisiz?</p>

<form method="POST" id="deleteForm">
{% csrf_token %}
<div class="delete-actions">
<button type="submit" class="confirm-delete">Ha</button>
<button type="button" class="cancel-delete" onclick="closeDeleteModal()">Yoâ€˜q</button>
</div>
</form>

</div>
</div>

<script>

function openAddModal(){
document.getElementById("addModal").style.display="flex";
}

function closeAddModal(){
document.getElementById("addModal").style.display="none";
}

function openDeleteModal(id){
let modal = document.getElementById("deleteModal");
let form = document.getElementById("deleteForm");

form.action = "/delete-book/" + id + "/";
modal.style.display="flex";
}

function closeDeleteModal(){
document.getElementById("deleteModal").style.display="none";
}

</script>

</body>
</html>



